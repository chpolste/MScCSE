<!doctype html>

<html>
  <head>
    <meta charset="utf-8">
    <title>Linear Stochastic System Analysis and Abstraction Refinement</title>
    <link rel="stylesheet" type="text/css" href="css/inspector.css">
    <!-- INJECT KATEX -->
    <script src="js/inspector.js" defer></script>
  </head>

  <body>
    
    <div class="header">
      <h1>Linear Stochastic System Analysis and Abstraction Refinement</h1>
    </div>

    <div id="application">
      <p>Please wait while the application is loading...</p>
    </div>

    <div class="text cols">
      <div class="left">
        <h2>Problem Formulation</h2>
        <p>
          The problem considered here, as posed by <a href="#Svorenova2017">Svoreňová et al. (2017)</a>, is:
        </p>
        <p class="quote">
          Compute the set of initial states of a dynamical system such that there exists a control strategy to ensure that the trajectories satisfy a temporal logic specification with probability 1 (almost-sure).
        </p>
        <p>
          More specifically, given a discrete-time linear stochastic system <span class="math">\mathcal{T}</span>, find the set of initial states <span class="math">X_{init} \subseteq X</span> for which a control strategy exists such that the probability of a trace starting in <span class="math">X_{init}</span> satisfies an objective given by a GR(1) formula <span class="math">\varphi</span> over a set of linear predicates <span class="math">\Pi</span> is 1 (almost-sure analysis).
          Furthermore, synthesize witness strategies ensuring the objective with probability 1 for all initial states <span class="math">x \in X_{init}</span>.
        </p>
  
        <h2 id="references">References</h2>
        <p id="Svorenova2017">
          Svoreňová, M., Křetínský, J., Chmelík, M., Chatterjee, K., Černá, I. and Belta, C. (2017).
          Temporal logic control for stochastic linear systems using abstraction refinement of probabilistic games.
          Nonlinear Analysis: Hybrid Systems, 23(15), 230–253.
          DOI: <a href="https://doi.org/10.1016/j.nahs.2016.04.006">10.1016/j.nahs.2016.04.006</a>
        </p>
      </div>

      <div class="right">
        <h2 id="about">About</h2>
        <p>
          This application is an implementation and visualization of an algorithm developed by <a href="#Svorenova2017">Svoreňová et al. (2017)</a>.
          Their implementation, written in Matlab and Java, influenced this JavaScript version.
          It is part of the Master's thesis of Christopher Polster, supervised by <a href="https://www7.in.tum.de/~kretinsk/">Jan Křetínský</a> from the <a href="https://www7.in.tum.de/home/index.php">Chair for Foundations of Software Reliability and Theoretical Computer Science</a> at Technische Universität München.
        </p>
        <p>
          The source code is available on <a href="https://github.com/chpolste/MScCSE">GitHub</a>.
        </p>
  
        <h2>Related Software</h2>
        <p>
          <a href="http://sites.bu.edu/hyness/conpas2/">conPAS/conPAS2: Temporal logic control of Piecewise Affine Systems</a>
        </p>
      </div>
    </div>

    <!-- Info boxes of problem setup-->
    <div class="info-box" id="info-input-objective">
      <p>
        Choose from a predefined set of temporal logic objectives and specify propositions for the placeholder variables.
        Available atomic propositions are all labeled predicates from the predicate input field of the initial state space decomposition.
        The predefined objectives are:
      </p>
      <p>
        <u>Reachability</u>: After a finite time the trace has to reach the specified subset of the state space.
      </p>
      <p>
        The operators not (<code>!</code>), and (<code>&amp;</code>), or (<code>|</code>) and implies (<code>-&gt;</code>) are available to form propositional formulas.
        They are listed in order of decreasing precedence, parentheses can be used to group expressions otherwise.
      </p>
    </div>
    <div class="info-box" id="info-input-control">
      <p>
        Specify the control space polytope <span class="math">U</span> by listing its enclosing half-spaces in the form of linear inequalities (one per line).
        Dimensions are named <code>x</code> and <code>y</code> (if exists).
      </p>
    </div>
    <div class="info-box" id="info-input-random">
      <p>
        Specify the random space polytope <span class="math">W</span> by listing its enclosing half-spaces in the form of linear inequalities (one per line).
        Dimensions are named <code>x</code> and <code>y</code> (if exists).
      </p>
    </div>
    <div class="info-box" id="info-input-state">
      <p>
        Specify the state space polytope <span class="math">X</span> by listing its enclosing half-spaces in the form of linear inequalities (one per line).
        Dimensions are named <code>x</code> and <code>y</code> (if exists).
      </p>
    </div>
    <div class="info-box" id="info-input-predicates">
      <p>
        Specify the linear predicates that are used to split the state space polytope into its initial decomposition as linear inequalities (one per line).
        Dimensions are named <code>x</code> and <code>y</code> (if exists).
        Predicates can be labeled and then used as atomic propositions in the objective specification.
      </p>
      <p>
        E.g.: labeled predicate (label <code>p0</code>): "<code>p0: x &lt; 2y</code>"<br>
        E.g.: inequality without a label: "<code>y - 0.5x &gt; 4</code>"
      </p>
    </div>

    <!-- Info boxes of inspector -->
    <div class="info-box" id="info-settings">
      <p>
        <u>Analysis colors</u>:
        Color polytopes of non-satisfying states grey and polytopes of satisfying states green.
        Undecided states of the analysis remain uncolored.
      </p>
      <p>
        <u>State labels</u>: 
        Show the state labels <span class="math">X_i</span> for all state polytopes.
      </p>
      <p>
        <u>Vector field</u>:
        Visualize the <span class="math">x_{t+1} = Ax_t</span> part of the evolution equation.
      </p>
      <p>
        <u>Highlight operator</u>: 
        Show a polytopic operator related to the selected state <span class="math">X_i</span> in yellow.
        The operators are
      </p>
      <ul>
        <li class="math">\mathrm{Post}(X_i, U')</li>
        <li class="math">\mathrm{Pre}(X, U', \{X_i\})</li>
        <li class="math">\mathrm{PreR}(X, U', \{X_i\})</li>
        <li class="math">\mathrm{Attr}(X, U', \{X_i\})</li>
        <li class="math">\mathrm{AttrR}(X, U', \{X_i\})</li>
      </ul>
      <p>
        where <span class="math">X</span> is the state space polytope and <span class="math">U'</span> is either the entire control space polytope <span class="math">U</span> if no action is selected or the action polytope <span class="math">U_i^J</span> if an action is selected.
      </p>
    </div>
    <div class="info-box" id="info-control">
      <p>
        <u>Left</u>:
        View of the control space polytope <span class="math">U</span> with highlighted action polytopes <span class="math">U_i^J</span> when an action is selected.
      </p>
      <p>
        <u>Right</u>:
        View of the random space polytope <span class="math">W</span>.
      </p>
    </div>
    <div class="info-box" id="info-state">
      <p>
        Information about the currently selected system state: label, analysis status, number of actions and linear predicates that are fulfilled by the associated polytope <span class="math">X_i</span>.
        Hovering with the mouse over a predicate label highlights the corresponding half-space in the system view.
      </p>
      <p>
        The refine button refines the currently selected state according to the global refinement procedure settings.
      </p>
    </div>
    <div class="info-box" id="info-actions">
      <p>
        The available actions of the currently selected state <span class="math">X_i</span>, labeled as <span class="math">X_i \rightarrow \{ X_j \}_{j \in J}</span>.
        Selection of an actions shows the possible target states in the system view with arrows and reveals its associated action polytope <span class="math">U_i^J</span> in the control space view.
      </p>
    </div>
    <div class="info-box" id="info-supports">
      <p>
        The available action supports of the currently selected action <span class="math">U_i^J</span>, labeled by the set of target states <span class="math">\{ X_j \}_{j \in J'}</span>.
        Selection of an action support updates the arrows of the action to only point to the targets of the action support and highlights the corresponding subset <span class="math">\mathrm{PreP}(X_i, U_i^J, \{ X_j \}_{j \in J'})</span> of the origin state <span class="math">X_i</span>.
      </p>
    </div>
    <div class="info-box" id="info-trace">
      <p>
        Sampling of traces through the system based on the selected strategy.
        Traces are randomly initiated from inside the currently selected polytope or inside the state space polytope if the selection is empty.
        Traces are terminated when they have left the state space polytope or after 35 steps.
      </p>
      <p>
        Moving the cursor over an arrow highlights the corresponding arrow in the system view and show the corresponding control and random inputs in the control and random space view in the top right.
      </p>
    </div>
    <div class="info-box" id="info-analysis">
      <p>
        Analyse the system with respect to the chosen objective and update the analysis status of all states.
        The interface will remain responsive during the analysis (although some functionality might be temporarily disabled) but it can freeze for a while immediately after the button was pressed and the game abstraction is constructed.
      </p>
      <p>
        The analysis progress is shown in form of bars sized proportionally to the (volume-)fractions of the state space polytope which have been found to be satisfying (green), non-satisfying (grey) or are still undecided (no color).
      </p>
    </div>
    <div class="info-box" id="info-refinement">
      <p>
        Refine all undecided states or the currently selected state.
        The checkboxes toggle which refinement procedures are applied.
      </p>
    </div>
    <div class="info-box" id="info-snapshots">
      <p>
        Store and restore the status of the system.
      </p>
    </div>

  </body>
</html>
